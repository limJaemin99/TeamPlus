<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" lang="en"
	  data-layout="vertical" data-topbar="light" data-sidebar="dark"
	  data-sidebar-size="lg" data-sidebar-image="none" data-preloader="disable">

<head>
	<!--page title-->
	<div th:replace="partials/title-meta :: title-meta('Sign In')"></div>

	<!-- Page CSS -->
	<div th:replace="partials/head-css :: head-css"></div>

	<!--naver login script -->
	<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js"charset="utf-8"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<!-- google login -->
	<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>
<div class="auth-page-wrapper pt-5">
	<!-- auth page bg -->
	<div class="auth-one-bg-position auth-one-bg" id="auth-particles">
		<div class="bg-overlay"></div>

		<div class="shape">
			<svg xmlns="http://www.w3.org/2000/svg" version="1.1"
				 viewBox="0 0 1440 120">
				<path d="M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"></path>
			</svg>
		</div>
	</div>

	<!-- auth page content -->
	<div class="auth-page-content">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="text-center mt-sm-5 mb-4 text-white-50">
						<div>
							<a href="/" class="d-inline-block auth-logo">
								<img src="/assets/images/logo-light.png" alt="" height="100">
							</a>
						</div>
					</div>
				</div>
			</div>
			<!-- end row -->

			<div class="row justify-content-center">
				<div class="col-md-8 col-lg-6 col-xl-5">
					<div class="card mt-4">

						<div class="card-body p-4">
							<div class="text-center mt-2">
								<h3 class="text-primary">Welcome Back!</h3>
								<p class="text-muted">로그인 후 TeamPlus 와 함께 작업해보세요!</p>
							</div>
							<div class="p-2 mt-4">
								<form id="loginForm" action="signin" method="post">
									<div class="mb-3">
										<label for="id" class="form-label">ID</label>
										<input type="text" class="form-control" id="id" name="id"
											   placeholder="아이디를 입력해주세요">
									</div>

									<div class="mb-3">
										<div class="float-end">
											<a href="sendmail" class="text-muted">Forgot
												password?</a>
										</div>
										<label class="form-label" for="password-input">PassWord</label>
										<div class="position-relative auth-pass-inputgroup mb-3">
											<input type="password" class="form-control pe-5 password-input"
												   placeholder="비밀번호를 입력해주세요" id="password-input" name="password">
											<button
													class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon"
													type="button" id="password-addon"><i
													class="ri-eye-fill align-middle"></i></button>
										</div>
									</div>

									<div class="mt-4">
										<button class="btn btn-success w-100" type="submit">Sign In</button>
									</div>

									<div class="mt-4 text-center">
										<div class="signin-other-title">
											<h5 class="fs-13 mb-4 title">Sign In with</h5>
										</div>

										<a href="https://nid.naver.com/oauth2.0/authorize?client_id=eT4X7SwbVmc3l8LRcrps&redirect_uri=http://localhost:8086/naver/callback&response_type=code" onclick="window.open(this.href, '_blank', 'width=800, height=600'); return false;">
											<img src="/assets/images/users/naverlogin.png" style="width: 50px; height: 50px;">
										</a>

										<a href="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=7ce191ea09b6b4d1c1aab13d137d8a4e&redirect_uri=http://localhost:8086/kakao/callback">
											<img src="/assets/images/users/kakao_login_medium_narrow.png" style="width: 50px; height: 50px;">
										</a>
										<a href="https://accounts.google.com/o/oauth2/v2/auth?scope=email&response_type=code&state=security_token%3D138r5719ru3e1%26url%3Dhttps://oauth2.example.com/token&client_id=384518553760-170g64pjn4lpmarorlpvbp0pvnqoich7.apps.googleusercontent.com&redirect_uri=http://localhost:8086/google/callback&access_type=offline"><img src="/assets/images/users/googlelogin.png" style="width: 50px; height: 50px;"> </a>
									</div>
								</form>
							</div>
						</div>
						<!-- end card body -->
					</div>
					<!-- end card -->

					<div class="mt-4 text-center">
						<p class="mb-0"> 계정이 없으신가요? <a href="/users/signup"
													   class="fw-semibold text-primary text-decoration-underline">
							회원가입 </a></p>
					</div>

				</div>
			</div>
			<!-- end row -->
		</div>
		<!-- end container -->
	</div>
	<!-- end auth page content -->

	<!-- footer -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="text-center">
						<p class="mb-0 text-muted">&copy;
							<script>document.write(new Date().getFullYear())</script>
							TeamPlus. Crafted with <i
									class="mdi mdi-heart text-danger"></i>
						</p>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!-- end Footer -->

		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

		<script type="text/javascript">
			const login = [[${login}]]

			if(login == 0) {
				document.addEventListener('DOMContentLoaded', function () {
					$('#staticBackdrop').modal('show'); // 모달 표시
				});
			}
		</script>

		<!-- staticBackdrop Modal -->
		<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-body text-center p-5">
						<img src="/assets/images/util/block.gif" width="200px;">
						<div class="mt-4">
							<h4 class="mb-3" style="color: red;">로그인 실패</h4>
							<p class="text-muted mb-4" style="color: black;">ID 또는 PW 를 확인 후 다시 시도해주세요</p>
							<div class="hstack gap-2 justify-content-center">
								<a class="btn btn-link link-danger fw-medium" data-bs-dismiss="modal"><i class="ri-close-line me-1 align-middle"></i> Close</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script type="text/javascript">
			const signup = [[${signup}]]

			if(signup == 1) {
				document.addEventListener('DOMContentLoaded', function () {
					$('#signup').modal('show'); // 모달 표시
				});
			}
		</script>

		<!-- staticBackdrop Modal -->
		<div class="modal fade" id="signup" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-body text-center p-5">
						<img src="/assets/images/util/welcome.gif" width="200px;">
						<div class="mt-4">
							<h4 class="mb-3" style="color: #405189;">회원가입 성공!</h4>
							<p class="text-muted mb-4" style="color: black;">환영합니다! 로그인 후 TeamPlus를 이용해주세요!</p>
							<div class="hstack gap-2 justify-content-center">
								<a class="btn btn-link link-success fw-medium" data-bs-dismiss="modal"><i class="ri-close-line me-1 align-middle"></i> Close</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>

	<div th:replace="partials/vendor-scripts :: scripts"></div>
	<script>
		// 비밀번호 숨김/표시 토글
		const passwordInput = document.getElementById('password-input');
		const passwordAddon = document.getElementById('password-addon');

		passwordAddon.addEventListener('click', function() {
			if (passwordInput.type === 'password') {
				passwordInput.type = 'text';
			} else {
				passwordInput.type = 'password';
			}
		});

		// 폼 제출 시 유효성 검사
		const loginForm = document.getElementById('loginForm');

		loginForm.addEventListener('submit', function(event) {
			const username = document.getElementById('username').value;
			const password = passwordInput.value;

			if (!username || !password) {
				event.preventDefault(); // 폼 제출을 막음
				alert('아이디와 비밀번호를 모두 입력해주세요.');
			}
		});
	</script>

	<!-- particles js -->
	<script src="/assets/libs/particles.js/particles.js"></script>
	<!-- particles app js -->
	<script src="/assets/js/pages/particles.app.js"></script>
</body>

</html>